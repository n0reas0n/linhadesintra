<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Linha de Sintra — Pessoas e Lugares</title>

  <!-- Meta description para SEO -->
  <meta name="description" content="Projeto cultural sobre a Linha de Sintra. Pessoas, lugares, bairros, subculturas e memórias ao longo das estações entre Lisboa e Sintra." />

  <!-- IBM Plex Mono -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      width: 100vw;
      height: 100vh;
      background: #ffffff;
      font-family: "IBM Plex Mono", monospace;
      overflow: hidden;
    }

    .center-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 14px;
      letter-spacing: 1px;
      pointer-events: none;
      user-select: none;
    }

    .word {
      position: absolute;
      font-size: 10px;
      opacity: 0;
      pointer-events: none;
      user-select: none;
      white-space: nowrap;
      animation: fade 1s ease forwards;
    }

    @keyframes fade {
      0%   { opacity: 0; }
      20%  { opacity: 1; }
      80%  { opacity: 1; }
      100% { opacity: 0; }
    }
  </style>
</head>

<body>

  <!-- Texto visível ao utilizador -->
  <div class="center-text">
    <b>PESSOAS E LUGARES</b>
  </div>

  <!-- SEO invisível para o Google -->
  <h1 style="position:absolute; left:-9999px;">
    Linha de Sintra — Pessoas, Lugares e Subculturas
  </h1>

  <p style="position:absolute; left:-9999px;">
    Linha de Sintra é um projeto cultural dedicado às pessoas, lugares,
    bairros e subculturas ao longo das estações da Linha de Sintra,
    incluindo Amadora, Reboleira, Queluz-Belas, Monte Abraão,
    Massamá-Barcarena, Cacém, Rio de Mouro, Mercês,
    Algueirão–Mem Martins, Portela de Sintra e Sintra.
  </p>

  <script>
  const words = [
    "Amadora",
    "Reboleira",
    "Queluz-Belas",
    "Monte Abraão",
    "Massamá-Barcarena",
    "Cacém",
    "Rio de Mouro",
    "Mercês",
    "Algueirão–Mem Martins",
    "Portela de Sintra",
    "Sintra"
  ];

  let lastTime = 0;
  const activePositions = [];

  const MIN_DISTANCE = 40;    // distância mínima entre palavras
  const CENTER_PADDING = 80;  // zona protegida ao redor do texto central
  const INTERVAL = 60;        // ms entre palavras

  function isTooClose(x, y) {
    return activePositions.some(p => {
      const dx = p.x - x;
      const dy = p.y - y;
      return Math.sqrt(dx * dx + dy * dy) < MIN_DISTANCE;
    });
  }

  document.addEventListener("mousemove", (e) => {
    const now = Date.now();
    if (now - lastTime < INTERVAL) return;
    lastTime = now;

    // zona central protegida
    const center = document.querySelector(".center-text").getBoundingClientRect();
    if (
      e.clientX > center.left - CENTER_PADDING &&
      e.clientX < center.right + CENTER_PADDING &&
      e.clientY > center.top - CENTER_PADDING &&
      e.clientY < center.bottom + CENTER_PADDING
    ) return;

    const x = e.pageX + 10;
    const y = e.pageY + 10;

    if (isTooClose(x, y)) return;

    const word = document.createElement("div");
    word.className = "word";
    word.textContent = words[Math.floor(Math.random() * words.length)];
    word.style.left = x + "px";
    word.style.top  = y + "px";

    document.body.appendChild(word);
    activePositions.push({ x, y });

    // remove palavra após a animação
    setTimeout(() => {
      word.remove();
      activePositions.shift();
    }, 1000);
  });
</script>


</body>
</html>
